# File: schema.graphql
# GraphQL schema definitions for tables

type BigQueryData @table {
  id: ID! @primaryKey
  timestamp: String! @indexed
  deviceId: String @indexed
  data: Any
  _syncedAt: String @createdTime
}

type SyncCheckpoint @table {
  nodeId: Int! @primaryKey
  lastTimestamp: String!
  recordsIngested: Long!
  lastSyncTime: String!
  phase: String!
  batchSize: Int!
}

type SyncAudit @table {
  id: ID! @primaryKey
  timestamp: String! @indexed @createdTime
  nodeId: Int
  bigQueryCount: Long
  harperCount: Long
  delta: Long
  status: String!
  reason: String
  recordSample: String
}